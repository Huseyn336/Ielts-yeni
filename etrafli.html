<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Results - Detailed Overview</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #7209b7;
            --text-color: #333;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --border-color: #dee2e6;
            --success-color: #2ecc71;
            --error-color: #e74c3c;
            --warning-color: #f39c12;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .dark-mode {
            --primary-color: #6d8bff;
            --secondary-color: #5e60ce;
            --accent-color: #9d4edd;
            --text-color: #f8f9fa;
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --border-color: #444;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .controls {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-color);
        }

        .student-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .overall-score {
            text-align: center;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(var(--primary-color) 65%, var(--border-color) 0);
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .score-value {
            font-size: 32px;
            font-weight: 700;
            color: black;
        }

        .score-label {
            font-size: 16px;
            color: var(--text-color);
        }

        .section-scores {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .section-score {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            background-color: rgba(67, 97, 238, 0.1);
        }

        .section-score .value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--primary-color);
        }

        .section-score .label {
            font-size: 14px;
            color: var(--text-color);
        }

        .info-item {
            display: flex;
            margin-bottom: 8px;
        }

        .info-item .label {
            font-weight: 600;
            min-width: 120px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .section-title {
            font-size: 20px;
            color: var(--primary-color);
        }

        .questions-container {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .question-item {
            padding: 15px;
            border-radius: 8px;
            background-color: var(--card-bg);
            margin-bottom: 15px;
            border-left: 4px solid var(--border-color);
        }

        .question-item.correct {
            border-left-color: var(--success-color);
        }

        .question-item.incorrect {
            border-left-color: var(--error-color);
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 10px;
        }

        .answer-comparison {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .student-answer, .correct-answer {
            padding: 8px 12px;
            border-radius: 5px;
        }

        .student-answer.incorrect {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--error-color);
            font-weight: 600;
        }

        .student-answer.correct {
            background-color: rgba(46, 204, 113, 0.1);
            color: var(--success-color);
            font-weight: 600;
        }

        .correct-answer {
            background-color: rgba(46, 204, 113, 0.1);
            color: var(--success-color);
            font-weight: 600;
        }

        .writing-tasks {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .writing-task {
            margin-bottom: 20px;
        }

        .writing-score {
            display: inline-block;
            padding: 5px 10px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .essay-text {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            margin-top: 10px;
            white-space: pre-wrap;
            line-height: 1.8;
        }

        .feedback-highlight {
            padding: 2px 0;
            position: relative;
            cursor: pointer;
        }

        .vocabulary-good {
            background-color: rgba(46, 204, 113, 0.2);
            border-bottom: 2px dotted var(--success-color);
        }

        .grammar-error {
            background-color: rgba(231, 76, 60, 0.2);
            border-bottom: 2px dotted var(--error-color);
            text-decoration: line-through;
        }

        .tooltip {
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 12px;
            background-color: #333;
            color: white;
            border-radius: 5px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .feedback-highlight:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }

        .speaking-section {
            margin-top: 30px;
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto 20px;
        }

        video {
            width: 100%;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .video-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .feedback-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feedback-category {
            padding: 15px;
            border-radius: 8px;
            background-color: var(--card-bg);
        }

        .feedback-category h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .strengths {
            border-left: 4px solid var(--success-color);
        }

        .weaknesses {
            border-left: 4px solid var(--error-color);
        }

        .recommendations {
            border-left: 4px solid var(--warning-color);
        }

        .feedback-list {
            list-style-type: none;
        }

        .feedback-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .feedback-list li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: var(--primary-color);
        }

        .strengths .feedback-list li:before {
            color: var(--success-color);
        }

        .weaknesses .feedback-list li:before {
            color: var(--error-color);
        }

        .recommendations .feedback-list li:before {
            color: var(--warning-color);
        }

        footer {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        /* Newly added styles */
        .audio-section {
            margin-top: 30px;
        }

        .audio-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto 20px;
        }

        audio {
            width: 100%;
            margin-bottom: 15px;
        }

        .transcript-container {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .transcript-text {
            line-height: 1.8;
            white-space: pre-wrap;
        }

        .highlighted {
            background-color: rgba(67, 97, 238, 0.2);
            transition: background-color 0.3s;
        }

        .writing-examples {
            margin-top: 30px;
        }

        .example-toggle {
            margin-top: 10px;
            cursor: pointer;
            color: var(--primary-color);
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .example-content {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: var(--card-bg);
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        .example-content.show {
            display: block;
        }

        .writing-tips {
            margin-top: 15px;
            padding: 15px;
            background-color: rgba(67, 97, 238, 0.1);
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        .writing-tips h5 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .writing-tips ul {
            padding-left: 20px;
        }

        .writing-tips li {
            margin-bottom: 8px;
        }

        @media print {
            body {
                background-color: white;
                color: black;
                padding: 0;
            }
            
            .controls, .theme-toggle, .video-controls, footer, .example-toggle {
                display: none;
            }
            
            .card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
            
            .container {
                max-width: 100%;
            }
            
            .questions-container {
                max-height: none;
                overflow-y: visible;
            }
            
            .example-content {
                display: block !important;
            }
        }

        @media (max-width: 768px) {
            .student-info {
                grid-template-columns: 1fr;
            }
            
            .section-scores {
                grid-template-columns: 1fr;
            }
            
            .answer-comparison {
                flex-direction: column;
                gap: 10px;
            }
            
            .feedback-section {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">IELTS Results - Detailed Overview</div>
            <div class="controls">
                <button class="btn btn-primary" onclick="window.print()">
                    <i class="fas fa-print"></i> Print
                </button>
                <button class="btn btn-secondary" onclick="saveAsPDF()">
                    <i class="fas fa-download"></i> Download PDF
                </button>
                <button class="btn btn-outline" onclick="goBack()">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <div class="student-info">
            <div class="card overall-score">
                <h2>Overall Result</h2>
                <div class="score-circle">
                    <div class="score-value">6.5</div>
                </div>
                <div class="score-label">Overall Band</div>
            </div>
            
            <div class="card">
                <h2>Section Results</h2>
                <div class="section-scores">
                    <div class="section-score">
                        <div class="value">6.5</div>
                        <div class="label">Listening</div>
                    </div>
                    <div class="section-score">
                        <div class="value">7.0</div>
                        <div class="label">Reading</div>
                    </div>
                    <div class="section-score">
                        <div class="value">6.0</div>
                        <div class="label">Writing</div>
                    </div>
                    <div class="section-score">
                        <div class="value">6.5</div>
                        <div class="label">Speaking</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2>Student Information</h2>
                <div class="info-item">
                    <span class="label">Full Name:</span>
                    <span class="value">Ali Huseynov</span>
                </div>
                <div class="info-item">
                    <span class="label">Student ID:</span>
                    <span class="value">IELTS2023-04567</span>
                </div>
                <div class="info-item">
                    <span class="label">Exam Date:</span>
                    <span class="value">15 October 2023</span>
                </div>
                <div class="info-item">
                    <span class="label">Duration:</span>
                    <span class="value">2 hours 45 minutes</span>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="section-header">
                <h3 class="section-title">Reading & Listening Questions</h3>
            </div>
            <div class="questions-container">
                <div class="question-item incorrect">
                    <div class="question-text">1. According to the text, what is the main cause of climate change?</div>
                    <div class="answer-comparison">
                        <div>
                            <strong>Your answer:</strong>
                            <div class="student-answer incorrect">Human activities</div>
                        </div>
                        <div>
                            <strong>Correct answer:</strong>
                            <div class="correct-answer">Greenhouse gas emissions</div>
                        </div>
                    </div>
                </div>

                <div class="question-item correct">
                    <div class="question-text">2. What does the author suggest about renewable energy?</div>
                    <div class="answer-comparison">
                        <div>
                            <strong>Your answer:</strong>
                            <div class="student-answer correct">It's becoming more affordable</div>
                        </div>
                        <div>
                            <strong>Correct answer:</strong>
                            <div class="correct-answer">It's becoming more affordable</div>
                        </div>
                    </div>
                </div>

                <div class="question-item incorrect">
                    <div class="question-text">3. The lecture mainly discusses:</div>
                    <div class="answer-comparison">
                        <div>
                            <strong>Your answer:</strong>
                            <div class="student-answer incorrect">Economic theories</div>
                        </div>
                        <div>
                            <strong>Correct answer:</strong>
                            <div class="correct-answer">Environmental policies</div>
                        </div>
                    </div>
                </div>

                <div class="question-item correct">
                    <div class="question-text">4. What is the speaker's opinion about technology?</div>
                    <div class="answer-comparison">
                        <div>
                            <strong>Your answer:</strong>
                            <div class="student-answer correct">It can help solve environmental problems</div>
                        </div>
                        <div>
                            <strong>Correct answer:</strong>
                            <div class="correct-answer">It can help solve environmental problems</div>
                        </div>
                    </div>
                </div>

                <div class="question-item incorrect">
                    <div class="question-text">5. According to the text, which country is leading in solar energy production?</div>
                    <div class="answer-comparison">
                        <div>
                            <strong>Your answer:</strong>
                            <div class="student-answer incorrect">United States</div>
                        </div>
                        <div>
                            <strong>Correct answer:</strong>
                            <div class="correct-answer">China</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- New Audio and Transcript Section -->
        <div class="card audio-section">
            <div class="section-header">
                <h3 class="section-title">Listening Audio and Transcript</h3>
            </div>
            
            <div class="audio-container">
                <audio id="listeningAudio" controls>
                    <source src="https://www.w3schools.com/html/horse.ogg" type="audio/ogg">
                    <source src="https://www.w3schools.com/html/horse.mp3" type="audio/mpeg">
                    Your browser does not support the audio format.
                </audio>
                <div class="audio-controls">
                    <button class="btn btn-outline" onclick="playPauseAudio()">
                        <i class="fas fa-play"></i> Play/Pause
                    </button>
                    <button class="btn btn-outline" onclick="restartAudio()">
                        <i class="fas fa-redo"></i> Play Again
                    </button>
                </div>
            </div>

            <div class="transcript-container">
                <h4>Audio Transcript:</h4>
                <div class="transcript-text" id="transcriptText">
                    [0:00] Good morning and welcome to today's lecture on environmental policies. Today we'll be discussing the various approaches governments are taking to address climate change.

                    [0:15] Many experts agree that the primary cause of climate change is greenhouse gas emissions from human activities. These emissions trap heat in the atmosphere, leading to global warming.

                    [0:30] Renewable energy sources, such as solar and wind power, are becoming increasingly affordable and accessible. Countries around the world are investing in these technologies to reduce their carbon footprint.

                    [0:45] China is currently leading in solar energy production, having invested significantly in solar panel manufacturing and installation. Other countries are following suit, but China remains the market leader.

                    [1:00] Technology plays a crucial role in addressing environmental challenges. From electric vehicles to smart grids, technological innovations are helping us transition to a more sustainable future.

                    [1:15] However, it's important to note that technology alone cannot solve all our environmental problems. Policy changes, individual actions, and international cooperation are all essential components of an effective response to climate change.
                </div>
            </div>
        </div>

        <div class="card">
            <div class="section-header">
                <h3 class="section-title">Writing</h3>
            </div>
            <div class="writing-tasks">
                <div class="writing-task">
                    <h4>Task 1 <span class="writing-score">6.5</span></h4>
                    <p>The chart below shows the percentage of renewable energy in total energy consumption in 4 different countries from 1990 to 2010.</p>
                    <div class="essay-text">
                        The graph illustrates the proportion of renewable energy in overall energy use in four countries between 1990 and 2010.

                        Overall, it is clear that Sweden had the highest percentage of renewable energy throughout the period, while Australia had the lowest.

                        In 1990, Sweden's renewable energy consumption stood at around 40%, which was significantly higher than the other three countries. This figure rose steadily to reach just over 60% by 2010. In contrast, Australia started at approximately 5% in 1990 and experienced a gradual increase to about 10% in 2010.

                        Meanwhile, Germany and France <span class="feedback-highlight grammar-error">shows<span class="tooltip">Grammar error: should be 'showed'</span></span> more moderate figures. Germany's renewable energy usage was around 10% in 1990 and <span class="feedback-highlight vocabulary-good">increased steadily<span class="tooltip">Good expression</span></span> to roughly 25% in 2010. France, on the other hand, started at about 15% and saw a <span class="feedback-highlight grammar-error">fluctuating<span class="tooltip">Better alternative: 'variable'</span></span> pattern, ending at approximately 20% in 2010.
                    </div>

                    <!-- Writing example and recommendations -->
                    <div class="writing-examples">
                        <div class="example-toggle" onclick="toggleExample('exampleTask1')">
                            <i class="fas fa-chevron-down"></i> Show Correct Task 1 Example
                        </div>
                        <div class="example-content" id="exampleTask1">
                            <h5>Correct Task 1 Example (Band 9):</h5>
                            <div class="essay-text">
                                The line graph illustrates the proportion of renewable energy in the total energy consumption of four countries (Sweden, Australia, Germany, and France) over a 20-year period from 1990 to 2010.

                                Overall, Sweden consistently had the highest percentage of renewable energy usage throughout the period, while Australia consistently had the lowest. All four countries experienced an increase in their renewable energy consumption over the two decades.

                                In 1990, Sweden's renewable energy consumption stood at approximately 40%, which was significantly higher than the other three countries. This figure then rose steadily, reaching just over 60% by 2010. In contrast, Australia started at only about 5% in 1990 and experienced a gradual increase to around 10% in 2010.

                                Germany and France showed more moderate figures. Germany's renewable energy usage was around 10% in 1990 and increased steadily to roughly 25% in 2010. France, on the other hand, started at about 15% and saw a variable pattern, ending at approximately 20% in 2010.
                            </div>
                            <div class="writing-tips">
                                <h5>Recommendations for Task 1:</h5>
                                <ul>
                                    <li>Note the overall trend in the first paragraph</li>
                                    <li>Present data in a comparative manner</li>
                                    <li>Highlight significant changes and differences</li>
                                    <li>Use numbers accurately (with approximate percentages)</li>
                                    <li>Use correct tense forms (past tense)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="writing-task">
                    <h4>Task 2 <span class="writing-score">7.0</span></h4>
                    <p>Some people believe that environmental problems are too big for individuals to solve, while others think that individuals can make a difference. Discuss both views and give your opinion.</p>
                    <div class="essay-text">
                        Environmental issues have become a major concern worldwide, and there is debate about whether individuals can contribute to solving these problems or whether they are too large-scale for individual action.

                        On the one hand, it is argued that environmental problems are too vast for individuals to solve. Issues such as climate change, ocean pollution, and deforestation are global in scale and require coordinated efforts from governments and international organizations. For example, reducing carbon emissions significantly depends on policies that promote renewable energy and restrict fossil fuel use, which are beyond the control of individuals. Furthermore, large corporations are responsible for a substantial portion of pollution, and only regulatory measures can compel them to adopt environmentally friendly practices.

                        On the other hand, many believe that individuals can indeed make a difference. When people adopt sustainable practices such as recycling, reducing energy consumption, and using public transportation, their collective impact can be substantial. Additionally, consumer choices can influence businesses; for instance, the growing demand for electric vehicles has encouraged manufacturers to invest more in this technology. Individual actions also raise awareness and create social pressure that can lead to broader change.

                        In my opinion, while government and corporate actions are crucial, individuals play an essential role in addressing environmental problems. A combination of individual efforts and systemic changes is necessary to achieve meaningful progress. Everyone has a part to play in protecting the environment for future generations.

                        In conclusion, although environmental challenges are significant, individuals can contribute to solutions through their daily choices and advocacy. However, these efforts must be supported by strong policies and corporate responsibility to be truly effective.
                    </div>

                    <!-- Writing example and recommendations -->
                    <div class="writing-examples">
                        <div class="example-toggle" onclick="toggleExample('exampleTask2')">
                            <i class="fas fa-chevron-down"></i> Show Correct Task 2 Example
                        </div>
                        <div class="example-content" id="exampleTask2">
                            <h5>Correct Task 2 Example (Band 9):</h5>
                            <div class="essay-text">
                                The escalating environmental crisis has sparked debate regarding the efficacy of individual actions versus the necessity of large-scale interventions. While some contend that environmental problems are too monumental for individuals to address, others maintain that personal initiatives are indispensable. This essay will examine both perspectives before presenting a balanced conclusion.

                                On one hand, proponents of the view that environmental issues surpass individual capacity point to the sheer scale of these challenges. Climate change, ocean acidification, and biodiversity loss are global phenomena requiring coordinated international policies and systemic transformations. For instance, transitioning to renewable energy infrastructure demands government legislation, corporate investment, and cross-border cooperation - endeavors far beyond the scope of individual action. Moreover, industrial activities account for a disproportionate share of pollution and resource depletion, suggesting that regulatory frameworks targeting corporations would yield more significant impact than isolated consumer choices.

                                Conversely, advocates for individual agency emphasize the cumulative power of personal actions. When millions of people adopt sustainable practices - reducing meat consumption, minimizing air travel, using public transportation - the collective environmental benefit becomes substantial. Furthermore, consumer preferences influence market trends, as evidenced by the growing demand for plant-based alternatives and electric vehicles, which has prompted industries to adapt their offerings. Individual actions also foster social norms and political momentum, creating pressure for institutional change through voting patterns and civic engagement.

                                In my assessment, both perspectives contain validity but present a false dichotomy. Individual and systemic approaches are not mutually exclusive; rather, they operate synergistically. Personal behavior changes create cultural shifts that enable political action, while policy interventions make sustainable choices more accessible and widespread. The most effective approach combines individual responsibility with collective action, recognizing that environmental protection requires engagement at all levels of society.

                                In conclusion, while environmental problems undoubtedly require large-scale solutions, dismissing individual contributions is misguided. A multifaceted strategy harnessing both personal initiative and structural reform offers the most promising path toward sustainability, with each reinforcing the other in a virtuous cycle of environmental progress.
                            </div>
                            <div class="writing-tips">
                                <h5>Recommendations for Task 2:</h5>
                                <ul>
                                    <li>Introduce the topic with a clear introductory paragraph</li>
                                    <li>Discuss each view in a separate paragraph</li>
                                    <li>Provide supporting examples and evidence</li>
                                    <li>Clearly express your own position</li>
                                    <li>Demonstrate varied sentence structures and vocabulary</li>
                                    <li>Summarize key positions in the concluding paragraph</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card speaking-section">
            <div class="section-header">
                <h3 class="section-title">Speaking</h3>
            </div>
            
            <div class="video-container">
                <video id="speakingVideo" controls>
                    <source src="images/videoplayback.mp4" type="video/mp4">
                    Your browser does not support the video format.
                </video>
                <div class="video-controls">
                    <button class="btn btn-outline" onclick="playPauseVideo()">
                        <i class="fas fa-play"></i> Play/Pause
                    </button>
                    <button class="btn btn-outline" onclick="restartVideo()">
                        <i class="fas fa-redo"></i> Play Again
                    </button>
                </div>
            </div>

            <div class="feedback-section">
                <div class="feedback-category strengths">
                    <h4>Strengths ✔️</h4>
                    <ul class="feedback-list">
                        <li>Clear pronunciation and clarity</li>
                        <li>Logical and consistent responses</li>
                        <li>Rich vocabulary</li>
                        <li>Use of complex sentence structures</li>
                    </ul>
                </div>

                <div class="feedback-category weaknesses">
                    <h4>Weaknesses ❌</h4>
                    <ul class="feedback-list">
                        <li>Grammatical errors in some sentences</li>
                        <li>Minor errors in pronunciation of some words</li>
                        <li>Temporary pauses in some responses</li>
                    </ul>
                </div>

                <div class="feedback-category recommendations">
                    <h4>Recommendations 📌</h4>
                    <ul class="feedback-list">
                        <li>Focus on complex sentences to increase grammatical variety</li>
                        <li>Improve pronunciation of "th" sounds</li>
                        <li>Provide responses more quickly and in detail</li>
                        <li>Expand vocabulary on various topics</li>
                    </ul>
                </div>
            </div>
        </div>

        <footer>
            <button class="btn btn-outline" onclick="goBack()">
                <i class="fas fa-home"></i> Return to Homepage
            </button>
            <button class="btn btn-primary" onclick="window.print()">
                <i class="fas fa-print"></i> Print
            </button>
            <button class="btn btn-secondary" onclick="saveAsPDF()">
                <i class="fas fa-download"></i> Save
            </button>
        </footer>
    </div>

    <script>
        // Theme switcher
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });

        // Audio control functions
        const audio = document.getElementById('listeningAudio');

        function playPauseAudio() {
            if (audio.paused) {
                audio.play();
                highlightTranscript();
            } else {
                audio.pause();
            }
        }

        function restartAudio() {
            audio.currentTime = 0;
            audio.play();
            highlightTranscript();
        }

        // Automatic transcript highlighting
        function highlightTranscript() {
            const transcriptText = document.getElementById('transcriptText');
            const paragraphs = transcriptText.innerHTML.split('\n\n');
            
            audio.ontimeupdate = function() {
                const currentTime = audio.currentTime;
                let activeIndex = -1;
                
                // Search for timestamps and find matching paragraph
                paragraphs.forEach((para, index) => {
                    const timeMatch = para.match(/\[(\d+):(\d+)\]/);
                    if (timeMatch) {
                        const minutes = parseInt(timeMatch[1]);
                        const seconds = parseInt(timeMatch[2]);
                        const totalSeconds = minutes * 60 + seconds;
                        
                        if (currentTime >= totalSeconds) {
                            activeIndex = index;
                        }
                    }
                });
                
                // Highlight active paragraph
                let newHtml = '';
                paragraphs.forEach((para, index) => {
                    if (index === activeIndex) {
                        newHtml += `<div class="highlighted">${para}</div>\n\n`;
                    } else {
                        newHtml += `<div>${para}</div>\n\n`;
                    }
                });
                
                transcriptText.innerHTML = newHtml;
                
                // Auto-scroll to active paragraph
                if (activeIndex >= 0) {
                    const highlighted = transcriptText.querySelector('.highlighted');
                    if (highlighted) {
                        highlighted.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            };
        }

        // Video control functions
        const video = document.getElementById('speakingVideo');

        function playPauseVideo() {
            if (video.paused) {
                video.play();
            } else {
                video.pause();
            }
        }

        function restartVideo() {
            video.currentTime = 0;
            video.play();
        }

        // Toggle writing examples
        function toggleExample(exampleId) {
            const exampleContent = document.getElementById(exampleId);
            const toggleIcon = exampleContent.previousElementSibling.querySelector('i');
            
            if (exampleContent.classList.contains('show')) {
                exampleContent.classList.remove('show');
                toggleIcon.classList.remove('fa-chevron-up');
                toggleIcon.classList.add('fa-chevron-down');
            } else {
                exampleContent.classList.add('show');
                toggleIcon.classList.remove('fa-chevron-down');
                toggleIcon.classList.add('fa-chevron-up');
            }
        }

        // Tooltip functionality
        const highlights = document.querySelectorAll('.feedback-highlight');
        highlights.forEach(highlight => {
            highlight.addEventListener('mouseenter', function() {
                const tooltip = this.querySelector('.tooltip');
                if (tooltip) {
                    tooltip.style.opacity = '1';
                    tooltip.style.visibility = 'visible';
                }
            });
            
            highlight.addEventListener('mouseleave', function() {
                const tooltip = this.querySelector('.tooltip');
                if (tooltip) {
                    tooltip.style.opacity = '0';
                    tooltip.style.visibility = 'hidden';
                }
            });
        });

        // PDF download function (simulation)
        function saveAsPDF() {
            alert('Downloading PDF document...');
            // In a real implementation, a PDF generation library would be used here
        }

        // Back button
        function goBack() {
            window.history.back();
        }

        // On page load
        document.addEventListener('DOMContentLoaded', function() {
            // Format transcript
            formatTranscript();
        });

        // Format transcript
        function formatTranscript() {
            const transcriptText = document.getElementById('transcriptText');
            const text = transcriptText.innerHTML;
            
            // Make timestamps bold
            const formattedText = text.replace(/\[(\d+:\d+)\]/g, '<strong>[$1]</strong>');
            transcriptText.innerHTML = formattedText;
        }
    </script>
</body>
</html>